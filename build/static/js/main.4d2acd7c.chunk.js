(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(41)},40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(14),c=t.n(u),l=t(2),o=t(4),i=t.n(o),s=t(15),m=t(3),f=t.n(m),d={getPeople:function(){return f.a.get("/server")},addPerson:function(e){return f.a.post("/server",e)},deletePerson:function(e){return f.a.delete("".concat("/server","/").concat(e))},updatePerson:function(){var e=Object(s.a)(i.a.mark(function e(n,t,a){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a,n),e.next=3,f.a.put("".concat("/server","/").concat(n),{name:t,number:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(n,t,a){return e.apply(this,arguments)}}()},b=function(e){return e.list.map(function(e){return r.a.createElement("li",{key:e.id},e.name," - ",e.number," ",r.a.createElement("button",{onClick:function(){window.confirm("Do you want to delete ".concat(e.name," fromcontact info"))&&d.deletePerson(e.id).then(alert("".concat(e.name," has been deleted")))}},"Delete this"))})},h=function(e){var n=e.handleNameChange,t=e.handleNumberChange,a=e.formSubmit;return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,"name: ",r.a.createElement("input",{onChange:n}),r.a.createElement("br",null),"number: ",r.a.createElement("input",{onChange:t})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},p=function(e){var n=e.handleSearchfieldChange;return r.a.createElement("p",null,"Filter: ",r.a.createElement("input",{onChange:n}))},v=function(e){var n=e.message,t=e.bool;if(null===n)return null;var a=t?"success":"error";return r.a.createElement("div",{className:a},n)},E=(t(40),function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),o=Object(l.a)(c,2),i=o[0],s=o[1],m=Object(a.useState)(""),f=Object(l.a)(m,2),E=f[0],g=f[1],w=Object(a.useState)(""),j=Object(l.a)(w,2),O=j[0],C=j[1],S=Object(a.useState)(null),P=Object(l.a)(S,2),y=P[0],k=P[1],N=Object(a.useState)(null),D=Object(l.a)(N,2),L=D[0],T=D[1],x=Object(a.useState)(null),A=Object(l.a)(x,2),J=A[0],B=A[1];Object(a.useEffect)(function(){d.getPeople().then(function(e){u(e.data)})},[]);var F=t.filter(function(e){return e.name.toLocaleLowerCase().includes(O.toLocaleLowerCase())});function I(e){var n=null;return t.find(function(t){t.name===e&&(n=t)}),n}return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(v,{message:L,bool:J}),r.a.createElement(v,{message:y,bool:J}),r.a.createElement(p,{handleSearchfieldChange:function(e){C(e.target.value)}}),r.a.createElement("h3",null,"Add new number"),r.a.createElement(h,{handleNameChange:function(e){s(e.target.value)},handleNumberChange:function(e){g(e.target.value)},formSubmit:function(e){e.preventDefault();var n=i.trim(),a=E;if(0===n.length)return k("Enter a name please"),setTimeout(function(){k(null)},5e3),null;if(null===I(n)){var r={name:n,number:a};d.addPerson(r).then(function(e){u(t.concat(e.data)),s(""),g(""),T("Added ".concat(n," succesfully")),B(!0),setTimeout(function(){T(null),B(null)},5e3)})}else{var c=I(n).id;window.confirm("Do you want to update ".concat(n," contact info"))?d.updatePerson(c,n,a).then(function(e){k("".concat(n," successfully updated")),B(!0),setTimeout(function(){k(null),B(null)},5e3);for(var a=[],r=0;r<t.length;r++)a.push(t[r]),t[r].id===c&&(a[r]=e);u(a)}):(s(null),B(!1),setTimeout(function(){k(null),B(null)},5e3))}}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(b,{list:F}))});c.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.4d2acd7c.chunk.js.map