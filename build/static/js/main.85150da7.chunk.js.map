{"version":3,"sources":["Person.js","People.js","Form.js","Filter.js","peopleService.js","Notification.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","name","number","onClick","People","list","map","src_Person","Form","handleNameChange","handleNumberChange","formSubmit","onSubmit","onChange","type","Filter","handleSearchfieldChange","baseurl","peopleService","getPeople","axios","get","addPerson","newPerson","post","id","delete","concat","updatePerson","Object","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","console","log","put","sent","abrupt","data","stop","_x","_x2","_x3","apply","this","arguments","Notification","message","bool","className","App","_useState","useState","_useState2","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","searchfield","setSearchfield","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","boolMessage","setBoolMessage","useEffect","then","json","filtered","filter","dude","toLocaleLowerCase","includes","found","isIncluded","find","src_Notification","src_Filter","event","target","value","src_Form","preventDefault","trim","length","setTimeout","catch","err","window","confirm","i","push","src_People","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.85150da7.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n\r\n    return(\r\n    <li>{person.name} - {person.number} <button onClick={deletePerson}>Remove person</button></li>\r\n    )\r\n}\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst People = ({list, deletePerson}) => {\r\n\r\n  const people = () => list.map((person) => {\r\n    return <Person person = {person} deletePerson={() => deletePerson(person.name)} />\r\n  })\r\n  //renderöi uuden henkilön\r\n  return(\r\n    <ul>\r\n      {people()}\r\n    </ul>\r\n    \r\n    // list.map((person) => {\r\n    //   return (<li key={person.id}>{person.name} - {person.number} <button onClick={() => {if(window.confirm(`Do you want to delete ${person.name} fromcontact info`)){\r\n    //     peopleService.deletePerson(person.id).then(alert(`${person.name} has been deleted`))}}}>Delete this</button></li>)\r\n    // })\r\n  )\r\n\r\n}\r\n\r\nexport default People;","import React from 'react';\r\n\r\n\r\n\r\n\r\nconst Form = ({handleNameChange, handleNumberChange, formSubmit}) => {\r\n    \r\n      \r\n      \r\n    return(\r\n        <form onSubmit ={formSubmit}>\r\n        <div>\r\n          name: <input onChange={handleNameChange}/>\r\n          <br/>\r\n          number: <input onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Form;","import React from 'react'\r\n\r\nconst Filter = ({handleSearchfieldChange}) => {\r\n\r\n    return(\r\n      <p>Filter: <input onChange={handleSearchfieldChange}/></p>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseurl = '/api/persons'\r\n\r\nconst getPeople = () => {\r\n    return axios.get(baseurl);\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n    return axios.post(baseurl, newPerson)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseurl}/${id}`)\r\n}\r\nconst updatePerson = async (id, name, number) => {\r\n    console.log(name, number, id);\r\n    const res = await axios.put(`${baseurl}/${id}`, { name, number });\r\n    return res.data;\r\n}\r\n\r\nexport default {\r\n    getPeople,\r\n    addPerson,\r\n    deletePerson,\r\n    updatePerson\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message, bool }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    const className = (bool) ? \"success\" : 'error';\r\n    return (\r\n      <div className={className}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport People from './People'\nimport Form from './Form'\nimport Filter from './Filter'\nimport peopleService from './peopleService' \nimport Notification from './Notification'\nimport './App.css'\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([]), \n        [ newName, setNewName ] = useState(''),\n        [ newNumber, setNewNumber] = useState(''),\n        [ searchfield, setSearchfield] = useState(''),\n        [ errorMessage, setErrorMessage] = useState(null),\n        [ boolMessage, setBoolMessage ] = useState(null);\n \n  const effectHook = () => {\n    peopleService.getPeople()\n      .then((json) =>{\n      setPersons(json.data)\n    })\n  }\n\n  useEffect(effectHook, [])\n\n  const filtered = persons.filter((dude) => {\n    return dude.name.toLocaleLowerCase().includes(searchfield.toLocaleLowerCase())\n  })\n  \n\n  const handleSearchfieldChange = (event) => {\n    setSearchfield(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);   \n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n  \n\n  function found(name) {\n    let isIncluded = null\n    persons.find((person) => {\n      if(person.name === name){\n        isIncluded = person\n      }\n    });\n    return isIncluded; \n  }\n\n\n  const formSubmit = (event) => {\n    event.preventDefault();\n    const name = newName.trim()\n    const number = newNumber;\n    if(name.length === 0){\n      setErrorMessage('Enter a name please'); setTimeout(() => {setErrorMessage(null)}, 5000);\n      return null;\n    }\n    if(found(name) === null){\n      \n        const newPerson = {\n          name,\n          number\n        }\n        peopleService.addPerson(newPerson).then(res  => {\n          setPersons(persons.concat(res.data))\n          setNewName('');\n          setNewNumber('');\n          setErrorMessage(`Added ${name} succesfully`);\n          setBoolMessage(true);\n          setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000);\n        }).catch(err => {\n          console.log(err)\n          setErrorMessage('Error: Check that inputs are valid');\n          setBoolMessage(false);\n          setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 6000);\n        })\n    } else {\n      const id = found(name).id\n      if(window.confirm(`Do you want to update ${name} contact info`)){\n\n        peopleService.updatePerson(id, name, number)\n          .then(res => {\n          setErrorMessage(`${name} successfully updated`);\n          setBoolMessage(true);\n          setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000);\n\n          let list =[];\n          for(var i=0; i<persons.length; i++){\n            list.push(persons[i])\n            if(persons[i].id === id){\n              list[i] = res;\n            }\n          }\n          setPersons(list)\n        })\n      } else {\n        setNewName(null);\n        setBoolMessage(false);\n        setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000);\n    }//else\n  }\n}\n\n\n\nconst deletePerson = (name) => {\n  const person = found(name);\n  if(window.confirm(`Confirm to remove ${person.name}`)){\n    peopleService.deletePerson(person.id)\n      .then(res => {\n        setErrorMessage(`${person.name} was succesfully removed`)\n        setBoolMessage(true)\n        setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000)\n        setPersons(persons.filter(dude => dude.id !== person.id))\n      })\n      .catch(err => {\n        setErrorMessage(`ERROR: ${person.name} is already removed`)\n        setBoolMessage(false);\n        setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000)\n      })\n  }\n}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} bool = {boolMessage} />\n      <Filter handleSearchfieldChange={handleSearchfieldChange} />\n      <h3>Add new number</h3>\n      <Form handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} formSubmit={formSubmit} />\n      <h3>Numbers</h3>\n      <People list={filtered} deletePerson={deletePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}