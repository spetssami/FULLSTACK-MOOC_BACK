{"version":3,"sources":["Person.js","People.js","Form.js","Filter.js","peopleService.js","Notification.js","App.js","index.js"],"names":["Person","_ref","name","number","deletePerson","react_default","a","createElement","ocClick","People","list","map","person","src_Person","Form","handleNameChange","handleNumberChange","formSubmit","onSubmit","onChange","type","Filter","handleSearchfieldChange","baseurl","peopleService","getPeople","axios","get","addPerson","newPerson","post","id","delete","concat","updatePerson","Object","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","console","log","put","sent","abrupt","data","stop","_x","_x2","_x3","apply","this","arguments","Notification","message","bool","className","App","_useState","useState","_useState2","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","searchfield","setSearchfield","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","succesMessage","setSuccesMessage","_useState13","_useState14","boolMessage","setBoolMessage","useEffect","then","json","filtered","filter","dude","toLocaleLowerCase","includes","found","isIncluded","find","src_Notification","src_Filter","event","target","value","src_Form","preventDefault","trim","length","setTimeout","window","confirm","i","push","src_People","catch","err","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.be4e1d1e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nconst Person = ({name, number, deletePerson}) => {\r\n\r\n    return(\r\n    <li>{name} - {number} <button ocClick={deletePerson}></button></li>\r\n    )\r\n}\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst People = ({list, deletePerson}) => {\r\n\r\n  const people = () => list.map((person) => {\r\n    return <Person name = {person.name} number = {person.number} deletePerson={() => deletePerson(person.name)} />\r\n  })\r\n  //renderöi uuden henkilön\r\n  return(\r\n    <ul>\r\n      {people}\r\n    </ul>\r\n    \r\n    // list.map((person) => {\r\n    //   return (<li key={person.id}>{person.name} - {person.number} <button onClick={() => {if(window.confirm(`Do you want to delete ${person.name} fromcontact info`)){\r\n    //     peopleService.deletePerson(person.id).then(alert(`${person.name} has been deleted`))}}}>Delete this</button></li>)\r\n    // })\r\n  )\r\n\r\n}\r\n\r\nexport default People;","import React from 'react';\r\n\r\n\r\n\r\n\r\nconst Form = ({handleNameChange, handleNumberChange, formSubmit}) => {\r\n    \r\n      \r\n      \r\n    return(\r\n        <form onSubmit ={formSubmit}>\r\n        <div>\r\n          name: <input onChange={handleNameChange}/>\r\n          <br/>\r\n          number: <input onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Form;","import React from 'react'\r\n\r\nconst Filter = ({handleSearchfieldChange}) => {\r\n\r\n    return(\r\n      <p>Filter: <input onChange={handleSearchfieldChange}/></p>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseurl = '/api/persons'\r\n\r\nconst getPeople = () => {\r\n    return axios.get(baseurl);\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n    return axios.post(baseurl, newPerson)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseurl}/${id}`)\r\n}\r\nconst updatePerson = async (id, name, number) => {\r\n    console.log(name, number, id);\r\n    const res = await axios.put(`${baseurl}/${id}`, { name, number });\r\n    return res.data;\r\n}\r\n\r\nexport default {\r\n    getPeople,\r\n    addPerson,\r\n    deletePerson,\r\n    updatePerson\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message, bool }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    const className = (bool) ? \"success\" : 'error';\r\n    return (\r\n      <div className={className}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport People from './People'\nimport Form from './Form'\nimport Filter from './Filter'\nimport peopleService from './peopleService' \nimport Notification from './Notification'\nimport './App.css'\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([]), \n        [ newName, setNewName ] = useState(''),\n        [ newNumber, setNewNumber] = useState(''),\n        [ searchfield, setSearchfield] = useState(''),\n        [ errorMessage, setErrorMessage] = useState(null),\n        [ succesMessage, setSuccesMessage] = useState(null),\n        [ boolMessage, setBoolMessage ] = useState(null);\n \n  const effectHook = () => {\n    peopleService.getPeople()\n      .then((json) =>{\n      setPersons(json.data)\n    })\n  }\n\n  useEffect(effectHook, [])\n\n  const filtered = persons.filter((dude) => {\n    return dude.name.toLocaleLowerCase().includes(searchfield.toLocaleLowerCase())\n  })\n  \n\n  const handleSearchfieldChange = (event) => {\n    setSearchfield(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);   \n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n  \n\n  function found(name) {\n    let isIncluded = null\n    persons.find((person) => {\n      if(person.name === name){\n        isIncluded = person\n      }\n    });\n    return isIncluded; \n  }\n\n\n  const formSubmit = (event) => {\n    event.preventDefault();\n    const name = newName.trim()\n    const number = newNumber;\n    if(name.length === 0){\n      setErrorMessage('Enter a name please'); setTimeout(() => {setErrorMessage(null)}, 5000);\n      return null;\n    }\n    if(found(name) === null){\n      const newPerson = {\n        name,\n        number\n      }\n      peopleService.addPerson(newPerson).then(res  => {\n        setPersons(persons.concat(res.data))\n        setNewName('');\n        setNewNumber('');\n        setSuccesMessage(`Added ${name} succesfully`);\n        setBoolMessage(true);\n        setTimeout(() => {setSuccesMessage(null); setBoolMessage(null)}, 5000);\n      })\n    } else {\n      const id = found(name).id\n      if(window.confirm(`Do you want to update ${name} contact info`)){\n\n        peopleService.updatePerson(id, name, number)\n          .then(res => {\n          setErrorMessage(`${name} successfully updated`);\n          setBoolMessage(true);\n          setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000);\n\n          let list =[];\n          for(var i=0; i<persons.length; i++){\n            list.push(persons[i])\n            if(persons[i].id === id){\n              list[i] = res;\n            }\n          }\n          setPersons(list)\n        })\n      } else {\n        setNewName(null);\n        setBoolMessage(false);\n        setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000);\n    }//else\n  }\n}\n\n\n\nconst deletePerson = (name) => {\n  const person = found(name);\n  if(window.confirm(`Confirm to remove ${person.name}`)){\n    peopleService.deletePerson(person.id)\n      .then(res => {\n        setErrorMessage(`${person.name} was succesfully removed`)\n        setBoolMessage(true)\n        setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000)\n        setPersons(persons.filter(dude => dude.id !== person.id))\n      })\n      .catch(err => {\n        setErrorMessage(`ERROR: ${person.name} is already removed`)\n        setBoolMessage(false);\n        setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000)\n      })\n  }\n}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={succesMessage} bool = {boolMessage} />\n      <Notification message={errorMessage} bool = {boolMessage} />\n      <Filter handleSearchfieldChange={handleSearchfieldChange} />\n      <h3>Add new number</h3>\n      <Form handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} formSubmit={formSubmit} />\n      <h3>Numbers</h3>\n      <People list={filtered} deletePerson={deletePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}