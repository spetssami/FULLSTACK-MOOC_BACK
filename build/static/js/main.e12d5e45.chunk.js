(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(41)},40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(14),c=t.n(r),l=t(2),o=t(4),i=t.n(o),m=t(15),s=t(3),f=t.n(s),d="/api/persons",b={getPeople:function(){return f.a.get(d)},addPerson:function(e){return f.a.post(d,e)},deletePerson:function(e){return f.a.delete("".concat(d,"/").concat(e))},updatePerson:function(){var e=Object(m.a)(i.a.mark(function e(n,t,a){var u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a,n),e.next=3,f.a.put("".concat(d,"/").concat(n),{name:t,number:a});case 3:return u=e.sent,e.abrupt("return",u.data);case 5:case"end":return e.stop()}},e)}));return function(n,t,a){return e.apply(this,arguments)}}()},h=function(e){return e.list.map(function(e){return u.a.createElement("li",{key:e.id},e.name," - ",e.number," ",u.a.createElement("button",{onClick:function(){window.confirm("Do you want to delete ".concat(e.name," fromcontact info"))&&b.deletePerson(e.id).then(alert("".concat(e.name," has been deleted")))}},"Delete this"))})},p=function(e){var n=e.handleNameChange,t=e.handleNumberChange,a=e.formSubmit;return u.a.createElement("form",{onSubmit:a},u.a.createElement("div",null,"name: ",u.a.createElement("input",{onChange:n}),u.a.createElement("br",null),"number: ",u.a.createElement("input",{onChange:t})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},E=function(e){var n=e.handleSearchfieldChange;return u.a.createElement("p",null,"Filter: ",u.a.createElement("input",{onChange:n}))},v=function(e){var n=e.message,t=e.bool;if(null===n)return null;var a=t?"success":"error";return u.a.createElement("div",{className:a},n)},g=(t(40),function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),o=Object(l.a)(c,2),i=o[0],m=o[1],s=Object(a.useState)(""),f=Object(l.a)(s,2),d=f[0],g=f[1],w=Object(a.useState)(""),j=Object(l.a)(w,2),O=j[0],C=j[1],S=Object(a.useState)(null),P=Object(l.a)(S,2),y=P[0],k=P[1],N=Object(a.useState)(null),D=Object(l.a)(N,2),L=D[0],T=D[1],x=Object(a.useState)(null),A=Object(l.a)(x,2),J=A[0],B=A[1];Object(a.useEffect)(function(){b.getPeople().then(function(e){r(e.data)})},[]);var F=t.filter(function(e){return e.name.toLocaleLowerCase().includes(O.toLocaleLowerCase())});function I(e){var n=null;return t.find(function(t){t.name===e&&(n=t)}),n}return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(v,{message:L,bool:J}),u.a.createElement(v,{message:y,bool:J}),u.a.createElement(E,{handleSearchfieldChange:function(e){C(e.target.value)}}),u.a.createElement("h3",null,"Add new number"),u.a.createElement(p,{handleNameChange:function(e){m(e.target.value)},handleNumberChange:function(e){g(e.target.value)},formSubmit:function(e){e.preventDefault();var n=i.trim(),a=d;if(0===n.length)return k("Enter a name please"),setTimeout(function(){k(null)},5e3),null;if(null===I(n)){var u={name:n,number:a};b.addPerson(u).then(function(e){r(t.concat(e.data)),m(""),g(""),T("Added ".concat(n," succesfully")),B(!0),setTimeout(function(){T(null),B(null)},5e3)})}else{var c=I(n).id;window.confirm("Do you want to update ".concat(n," contact info"))?b.updatePerson(c,n,a).then(function(e){k("".concat(n," successfully updated")),B(!0),setTimeout(function(){k(null),B(null)},5e3);for(var a=[],u=0;u<t.length;u++)a.push(t[u]),t[u].id===c&&(a[u]=e);r(a)}):(m(null),B(!1),setTimeout(function(){k(null),B(null)},5e3))}}}),u.a.createElement("h3",null,"Numbers"),u.a.createElement(h,{list:F}))});c.a.render(u.a.createElement(g,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.e12d5e45.chunk.js.map