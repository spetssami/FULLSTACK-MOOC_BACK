{"version":3,"sources":["peopleService.js","People.js","Form.js","Filter.js","Notification.js","App.js","index.js"],"names":["baseurl","peopleService","getPeople","axios","get","addPerson","newPerson","post","deletePerson","id","delete","concat","updatePerson","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","name","number","res","wrap","_context","prev","next","console","log","put","sent","abrupt","data","stop","_x","_x2","_x3","apply","this","arguments","People","list","map","person","react_default","createElement","key","onClick","window","confirm","then","alert","Form","handleNameChange","handleNumberChange","formSubmit","onSubmit","onChange","type","Filter","handleSearchfieldChange","Notification","message","bool","className","App","_useState","useState","_useState2","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","searchfield","setSearchfield","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","succesMessage","setSuccesMessage","_useState13","_useState14","boolMessage","setBoolMessage","useEffect","json","filtered","filter","dude","toLocaleLowerCase","includes","found","isIncluded","find","src_Notification","src_Filter","event","target","value","src_Form","preventDefault","trim","length","setTimeout","i","push","src_People","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.e12d5e45.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseurl = '/api/persons'\r\n\r\nconst getPeople = () => {\r\n    return axios.get(baseurl);\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n    return axios.post(baseurl, newPerson)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseurl}/${id}`)\r\n}\r\nconst updatePerson = async (id, name, number) => {\r\n    console.log(name, number, id);\r\n    const res = await axios.put(`${baseurl}/${id}`, { name, number });\r\n    return res.data;\r\n}\r\n\r\nexport default {\r\n    getPeople,\r\n    addPerson,\r\n    deletePerson,\r\n    updatePerson\r\n}","import React from 'react'\r\nimport peopleService from  './peopleService'\r\n\r\nconst People = ({list}) => {\r\n\r\n  return(\r\n    list.map((person) => {\r\n      return (<li key={person.id}>{person.name} - {person.number} <button onClick={() => {if(window.confirm(`Do you want to delete ${person.name} fromcontact info`)){\r\n        peopleService.deletePerson(person.id).then(alert(`${person.name} has been deleted`))}}}>Delete this</button></li>)\r\n    })\r\n  )\r\n\r\n}\r\n\r\nexport default People;","import React from 'react';\r\n\r\n\r\n\r\n\r\nconst Form = ({handleNameChange, handleNumberChange, formSubmit}) => {\r\n    \r\n      \r\n      \r\n    return(\r\n        <form onSubmit ={formSubmit}>\r\n        <div>\r\n          name: <input onChange={handleNameChange}/>\r\n          <br/>\r\n          number: <input onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Form;","import React from 'react'\r\n\r\nconst Filter = ({handleSearchfieldChange}) => {\r\n\r\n    return(\r\n      <p>Filter: <input onChange={handleSearchfieldChange}/></p>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message, bool }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    const className = (bool) ? \"success\" : 'error';\r\n    return (\r\n      <div className={className}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport People from './People'\nimport Form from './Form'\nimport Filter from './Filter'\nimport peopleService from './peopleService' \nimport Notification from './Notification'\nimport './App.css'\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([]), \n        [ newName, setNewName ] = useState(''),\n        [ newNumber, setNewNumber] = useState(''),\n        [ searchfield, setSearchfield] = useState(''),\n        [ errorMessage, setErrorMessage] = useState(null),\n        [ succesMessage, setSuccesMessage] = useState(null),\n        [ boolMessage, setBoolMessage ] = useState(null);\n \n  const effectHook = () => {\n    peopleService.getPeople()\n      .then((json) =>{\n      setPersons(json.data)\n    })\n  }\n\n  useEffect(effectHook, [])\n\n  const filtered = persons.filter((dude) => {\n    return dude.name.toLocaleLowerCase().includes(searchfield.toLocaleLowerCase())\n  })\n  \n  const handleSearchfieldChange = (event) => {\n    setSearchfield(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);   \n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n  \n  function found(name) {\n    let isIncluded = null\n    persons.find((person) => {\n      if(person.name === name){\n        isIncluded = person\n      }\n    });\n    return isIncluded; \n  }\n\n  const formSubmit = (event) => {\n    event.preventDefault();\n    const name = newName.trim()\n    const number = newNumber;\n    if(name.length === 0){\n      setErrorMessage('Enter a name please'); setTimeout(() => {setErrorMessage(null)}, 5000);\n      return null;\n    }\n    if(found(name) === null){\n      const newPerson = {\n        name,\n        number\n      }\n      peopleService.addPerson(newPerson).then(res  => {\n        setPersons(persons.concat(res.data))\n        setNewName('');\n        setNewNumber('');\n        setSuccesMessage(`Added ${name} succesfully`);\n        setBoolMessage(true);\n        setTimeout(() => {setSuccesMessage(null); setBoolMessage(null)}, 5000);\n      })\n    } else {\n\n      const id = found(name).id\n      if(window.confirm(`Do you want to update ${name} contact info`)){\n\n        peopleService.updatePerson(id, name, number)\n          .then(res => {\n          setErrorMessage(`${name} successfully updated`);\n          setBoolMessage(true);\n          setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000);\n\n          let list =[];\n          for(var i=0; i<persons.length; i++){\n            list.push(persons[i])\n            if(persons[i].id === id){\n              list[i] = res;\n            }\n          }\n          setPersons(list)\n        })\n\n      } else {\n        setNewName(null);\n        setBoolMessage(false);\n        setTimeout(() => {setErrorMessage(null); setBoolMessage(null)}, 5000);\n    }//else\n  }\n}\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={succesMessage} bool = {boolMessage} />\n      <Notification message={errorMessage} bool = {boolMessage} />\n      <Filter handleSearchfieldChange={handleSearchfieldChange}/>\n      <h3>Add new number</h3>\n      <Form handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} formSubmit={formSubmit}/>\n      <h3>Numbers</h3>\n      <People list={filtered}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}